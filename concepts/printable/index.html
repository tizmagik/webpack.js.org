<!DOCTYPE html><html lang="en"><head><title data-rh="true">Combined printable page | webpack</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="theme-color" content="#2B3A42"/><meta data-rh="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-rh="true" name="robots" content="noindex,nofollow"/><meta data-rh="true" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta data-rh="true" property="og:site_name" content="webpack"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:title" content="Combined printable page | webpack"/><meta data-rh="true" property="og:description" name="description" content="webpack is a module bundler. Its main purpose is to bundle JavaScript files for usage in a browser, yet it is also capable of transforming, bundling, or packaging just about any resource or asset."/><meta data-rh="true" property="og:image" content="https://webpack.js.org/icon-pwa-512x512.d3dae4189855b3a72ff9.png"/><meta data-rh="true" property="twitter:card" content="summary"/><meta data-rh="true" property="twitter:site" content="@webpack"/><meta data-rh="true" property="twitter:creator" content="@webpack"/><meta data-rh="true" property="twitter:domain" content="https://webpack.js.org/"/><meta data-rh="true" name="mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-capable" content="yes"/><meta data-rh="true" name="apple-mobile-web-app-status-bar-style" content="black"/><meta data-rh="true" name="apple-mobile-web-app-title" content="webpack"/><meta data-rh="true" name="msapplication-TileImage" content="/icon_150x150.png"/><meta data-rh="true" name="msapplication-TileColor" content="#465e69"/><link data-rh="true" rel="icon" type="image/x-icon" href="/favicon.f326220248556af65f41.ico"/><link data-rh="true" rel="manifest" href="/manifest.json"/><link data-rh="true" rel="canonical" href="https://webpack.js.org/concepts/printable/"/><link data-rh="true" rel="icon" sizes="192x192" href="/icon_192x192.png"/><link data-rh="true" rel="icon" sizes="512x512" href="/icon_512x512.png"/><link data-rh="true" rel="apple-touch-icon" href="/icon_180x180.png"/><link data-rh="true" rel="mask-icon" href="/logo-on-white-bg.47eff95f9c01c5972f6f.svg" color="#465e69"/><link rel="stylesheet" href=/index.f1faf97dc06eeecee2b8.css /><link rel="stylesheet" href=/6389.dd35ba75361e317b3be0.css /></head><body><div id="root"><div class="site"><div class="site__header"><header class="navigation   "><section class="navigation__inner"><button aria-label="Open menu" class="navigation__mobile"><svg viewBox="-62 138 25 25"><g><g><path d="M-60.2,140.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,141-61.2,140.2-60.2,140.2z"></path><path d="M-60.2,148.7h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,149.5-61.2,148.7-60.2,148.7z"></path><path d="M-60.2,157.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,158-61.2,157.2-60.2,157.2z"></path></g></g></svg></button><a class="navigation__logo" href="/"><img class="logo" src="/site-logo.1fcab817090e78435061.svg" alt="webpack logo"/></a><nav class="navigation__items"><a class="navigation__item  navigation__item--active" href="/concepts/">Documentation</a><a class="navigation__item  " href="/contribute/">Contribute</a><a class="navigation__item  " href="/vote/">Vote</a><a class="navigation__item  " href="/blog/">Blog</a><a href="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" title="GitHub Repository" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M12 2A10 10 0 002 12a10 10 0 006.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 015 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0012 2z"></path></svg></a><a href="https://twitter.com/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Twitter" class="navigation__item navigation__item--icon "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" aria-hidden="true" fill="#fff" width="16"><path d="M28 6.937c-.957.425-1.985.711-3.064.84a5.343 5.343 0 002.345-2.951 10.696 10.696 0 01-3.388 1.295 5.334 5.334 0 00-9.089 4.864A15.143 15.143 0 013.809 5.411a5.321 5.321 0 00-.721 2.683 5.33 5.33 0 002.372 4.439 5.323 5.323 0 01-2.416-.667v.067a5.335 5.335 0 004.279 5.23 5.336 5.336 0 01-2.409.092 5.34 5.34 0 004.983 3.705 10.699 10.699 0 01-6.625 2.284c-.43 0-.855-.025-1.273-.075a15.102 15.102 0 008.177 2.396c9.812 0 15.176-8.128 15.176-15.177 0-.231-.005-.461-.015-.69A10.855 10.855 0 0028 6.937z"></path></svg></a><a href="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Stack Overflow" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4h12.6M6.8 14.3l.3-1.7 8.8 1.8-.3 1.8-8.8-1.9m1.1-4.2l.8-1.6 8.1 3.8-.7 1.6-8.2-3.8m2.3-4l1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8h-9z"></path></svg></a><span class="navigation__item navigation__item--icon"><nav class="dropdown navigation__languages"><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><img class="dropdown__language" alt="select language" src="/language-icon.87a028c9bf555eeb5932.svg"/><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="https://webpack.js.org/"><span>English</span></a></li><li><a href="https://webpack.docschina.org/"><span lang="zh">中文</span></a></li></ul></div></nav></span><span class="navigation__item navigation__item--icon"><button style="background:transparent;border:none;cursor:pointer">☀️</button></span></nav><div class="navigation-search "><input type="text" class="navigation-search__input" placeholder="Search this site..." value=""/><button aria-label="Hide search box" class="navigation-search__icon navigation-search__clear"><svg viewBox="-137 138 25 25"><g transform="translate(0,-952.36218)"><path d="M-131.3,1094.4c-0.4,0-0.9,0.1-1.2,0.5c-0.7,0.7-0.7,1.7,0,2.4l5.6,5.6l-5.6,5.6c-0.7,0.7-0.7,1.7,0,2.4 c0.7,0.7,1.7,0.7,2.4,0l5.6-5.6l5.6,5.6c0.7,0.7,1.7,0.7,2.4,0c0.7-0.7,0.7-1.7,0-2.4l-5.6-5.6l5.6-5.6c0.7-0.7,0.7-1.7,0-2.4 c-0.7-0.7-1.7-0.7-2.4,0l-5.6,5.6l-5.6-5.6C-130.5,1094.5-130.9,1094.4-131.3,1094.4L-131.3,1094.4z"></path></g></svg></button><button aria-label="Show search box" class="navigation-search__icon navigation-search__search"><svg viewBox="-137 138 25 25"><g><path d="M-114.6,162.6l-7.5-7.5c-0.6-0.6-0.6-1.6,0-2.1l0,0c0.6-0.6,1.6-0.6,2.1,0l7.5,7.5c0.6,0.6,0.6,1.6,0,2.1l0,0 C-113,163.1-114,163.1-114.6,162.6z"></path><path d="M-134.1,140.9c-3.9,3.9-3.9,10.2,0,14.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S-130.2,137-134.1,140.9z M-122.1,153 c-2.7,2.7-7.1,2.7-9.8,0s-2.7-7.1,0-9.8s7.1-2.7,9.8,0C-119.4,145.9-119.4,150.2-122.1,153z"></path></g></svg></button></div></section><div class="navigation-sub"><div class="navigation-sub__inner"><a class="navigation-sub__link " title="api" content="api" href="/api/">api</a><a class="navigation-sub__link navigation-sub__link--active" title="concepts" content="concepts" href="/concepts/">concepts</a><a class="navigation-sub__link " title="configuration" content="configuration" href="/configuration/">configuration</a><a class="navigation-sub__link " title="guides" content="guides" href="/guides/">guides</a><a class="navigation-sub__link " title="loaders" content="loaders" href="/loaders/">loaders</a><a class="navigation-sub__link " title="migrate" content="migrate" href="/migrate/">migrate</a><a class="navigation-sub__link " title="plugins" content="plugins" href="/plugins/">plugins</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="https://www.ag-grid.com/?utm_source=webpack&amp;utm_medium=banner&amp;utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer" class="sponsors__content"><img src="/ag-grid-logo.4fe9d34532b2c0821fc9.png"/><img class="sponsors__img__webpack" src="/icon-square-small.85ba630cf0c5f29ae3e3.svg"/><div class="sponsors__content-cont">ag-grid is proud to partner with webpack</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="sidebar__shields"><a href="https://github.com/webpack/webpack/releases"><img alt="webpack shield" src="https://img.shields.io/github/package-json/v/webpack/webpack.svg?label=webpack&amp;style=flat-square&amp;maxAge=3600"/></a></div><div class="sidebar-item sidebar-item--disabled`"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title sidebar-link__print" href="/concepts/printable/" rel="nofollow noopener noreferrer" alt="Print" title="Print" target="_blank">Print Section<img src="/icon-print.42ad40feec51e6f5f553.svg"/></a></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/">Concepts</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Entry"><a aria-current="page" class="active" href="/concepts/#entry">Entry</a></li><li class="sidebar-item__anchor" title="Output"><a aria-current="page" class="active" href="/concepts/#output">Output</a></li><li class="sidebar-item__anchor" title="Loaders"><a aria-current="page" class="active" href="/concepts/#loaders">Loaders</a></li><li class="sidebar-item__anchor" title="Plugins"><a aria-current="page" class="active" href="/concepts/#plugins">Plugins</a></li><li class="sidebar-item__anchor" title="Mode"><a aria-current="page" class="active" href="/concepts/#mode">Mode</a></li><li class="sidebar-item__anchor" title="Browser Compatibility"><a aria-current="page" class="active" href="/concepts/#browser-compatibility">Browser Compatibility</a></li><li class="sidebar-item__anchor" title="Environment"><a aria-current="page" class="active" href="/concepts/#environment">Environment</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/entry-points/">Entry Points</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Single Entry (Shorthand) Syntax"><a href="/concepts/entry-points/#single-entry-shorthand-syntax">Single Entry (Shorthand) Syntax</a></li><li class="sidebar-item__anchor" title="Object Syntax"><a href="/concepts/entry-points/#object-syntax">Object Syntax</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="EntryDescription object"><a href="/concepts/entry-points/#entrydescription-object">EntryDescription object</a></li></ul></li><li class="sidebar-item__anchor" title="Scenarios"><a href="/concepts/entry-points/#scenarios">Scenarios</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Separate App and Vendor Entries"><a href="/concepts/entry-points/#separate-app-and-vendor-entries">Separate App and Vendor Entries</a></li><li class="sidebar-item__anchor" title="Multi Page Application"><a href="/concepts/entry-points/#multi-page-application">Multi Page Application</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/output/">Output</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="/concepts/output/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Multiple Entry Points"><a href="/concepts/output/#multiple-entry-points">Multiple Entry Points</a></li><li class="sidebar-item__anchor" title="Advanced"><a href="/concepts/output/#advanced">Advanced</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/loaders/">Loaders</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Example"><a href="/concepts/loaders/#example">Example</a></li><li class="sidebar-item__anchor" title="Using Loaders"><a href="/concepts/loaders/#using-loaders">Using Loaders</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Configuration"><a href="/concepts/loaders/#configuration">Configuration</a></li><li class="sidebar-item__anchor" title="Inline"><a href="/concepts/loaders/#inline">Inline</a></li><li class="sidebar-item__anchor" title="CLI"><a href="/concepts/loaders/#cli">CLI</a></li></ul></li><li class="sidebar-item__anchor" title="Loader Features"><a href="/concepts/loaders/#loader-features">Loader Features</a></li><li class="sidebar-item__anchor" title="Resolving Loaders"><a href="/concepts/loaders/#resolving-loaders">Resolving Loaders</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/plugins/">Plugins</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Anatomy"><a href="/concepts/plugins/#anatomy">Anatomy</a></li><li class="sidebar-item__anchor" title="Usage"><a href="/concepts/plugins/#usage">Usage</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Configuration"><a href="/concepts/plugins/#configuration">Configuration</a></li><li class="sidebar-item__anchor" title="Node API"><a href="/concepts/plugins/#node-api">Node API</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/configuration/">Configuration</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Simple Configuration"><a href="/concepts/configuration/#simple-configuration">Simple Configuration</a></li><li class="sidebar-item__anchor" title="Multiple Targets"><a href="/concepts/configuration/#multiple-targets">Multiple Targets</a></li><li class="sidebar-item__anchor" title="Using other Configuration Languages"><a href="/concepts/configuration/#using-other-configuration-languages">Using other Configuration Languages</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/modules/">Modules</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="What is a webpack Module"><a href="/concepts/modules/#what-is-a-webpack-module">What is a webpack Module</a></li><li class="sidebar-item__anchor" title="Supported Module Types"><a href="/concepts/modules/#supported-module-types">Supported Module Types</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/module-resolution/">Module Resolution</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Resolving rules in webpack"><a href="/concepts/module-resolution/#resolving-rules-in-webpack">Resolving rules in webpack</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Absolute paths"><a href="/concepts/module-resolution/#absolute-paths">Absolute paths</a></li><li class="sidebar-item__anchor" title="Relative paths"><a href="/concepts/module-resolution/#relative-paths">Relative paths</a></li><li class="sidebar-item__anchor" title="Module paths"><a href="/concepts/module-resolution/#module-paths">Module paths</a></li></ul></li><li class="sidebar-item__anchor" title="Resolving Loaders"><a href="/concepts/module-resolution/#resolving-loaders">Resolving Loaders</a></li><li class="sidebar-item__anchor" title="Caching"><a href="/concepts/module-resolution/#caching">Caching</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/module-federation/">Module Federation</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Motivation"><a href="/concepts/module-federation/#motivation">Motivation</a></li><li class="sidebar-item__anchor" title="Low-level concepts"><a href="/concepts/module-federation/#low-level-concepts">Low-level concepts</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Overriding"><a href="/concepts/module-federation/#overriding">Overriding</a></li></ul></li><li class="sidebar-item__anchor" title="High-level concepts"><a href="/concepts/module-federation/#high-level-concepts">High-level concepts</a></li><li class="sidebar-item__anchor" title="Building blocks"><a href="/concepts/module-federation/#building-blocks">Building blocks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="OverridablesPlugin (low level)"><a href="/concepts/module-federation/#overridablesplugin-low-level">OverridablesPlugin (low level)</a></li><li class="sidebar-item__anchor" title="ContainerPlugin (low level)"><a href="/concepts/module-federation/#containerplugin-low-level">ContainerPlugin (low level)</a></li><li class="sidebar-item__anchor" title="ContainerReferencePlugin (low level)"><a href="/concepts/module-federation/#containerreferenceplugin-low-level">ContainerReferencePlugin (low level)</a></li><li class="sidebar-item__anchor" title="ModuleFederationPlugin (high level)"><a href="/concepts/module-federation/#modulefederationplugin-high-level">ModuleFederationPlugin (high level)</a></li></ul></li><li class="sidebar-item__anchor" title="Concept goals"><a href="/concepts/module-federation/#concept-goals">Concept goals</a></li><li class="sidebar-item__anchor" title="Use cases"><a href="/concepts/module-federation/#use-cases">Use cases</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Separate builds per page"><a href="/concepts/module-federation/#separate-builds-per-page">Separate builds per page</a></li><li class="sidebar-item__anchor" title="Components library as container"><a href="/concepts/module-federation/#components-library-as-container">Components library as container</a></li></ul></li><li class="sidebar-item__anchor" title="Dynamic Remote Containers"><a href="/concepts/module-federation/#dynamic-remote-containers">Dynamic Remote Containers</a></li><li class="sidebar-item__anchor" title="Troubleshooting"><a href="/concepts/module-federation/#troubleshooting">Troubleshooting</a></li></ul></div></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="/concepts/dependency-graph/">Dependency Graph</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/targets/">Targets</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="/concepts/targets/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Multiple Targets"><a href="/concepts/targets/#multiple-targets">Multiple Targets</a></li><li class="sidebar-item__anchor" title="Resources"><a href="/concepts/targets/#resources">Resources</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/manifest/">The Manifest</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Runtime"><a href="/concepts/manifest/#runtime">Runtime</a></li><li class="sidebar-item__anchor" title="Manifest"><a href="/concepts/manifest/#manifest">Manifest</a></li><li class="sidebar-item__anchor" title="The Problem"><a href="/concepts/manifest/#the-problem">The Problem</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/hot-module-replacement/">Hot Module Replacement</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="How It Works"><a href="/concepts/hot-module-replacement/#how-it-works">How It Works</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="In the Application"><a href="/concepts/hot-module-replacement/#in-the-application">In the Application</a></li><li class="sidebar-item__anchor" title="In the Compiler"><a href="/concepts/hot-module-replacement/#in-the-compiler">In the Compiler</a></li><li class="sidebar-item__anchor" title="In a Module"><a href="/concepts/hot-module-replacement/#in-a-module">In a Module</a></li><li class="sidebar-item__anchor" title="In the Runtime"><a href="/concepts/hot-module-replacement/#in-the-runtime">In the Runtime</a></li></ul></li><li class="sidebar-item__anchor" title="Get Started"><a href="/concepts/hot-module-replacement/#get-started">Get Started</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/why-webpack/">Why webpack</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="IIFEs - Immediately invoked function expressions"><a href="/concepts/why-webpack/#iifes---immediately-invoked-function-expressions">IIFEs - Immediately invoked function expressions</a></li><li class="sidebar-item__anchor" title="Birth of JavaScript Modules happened thanks to Node.js"><a href="/concepts/why-webpack/#birth-of-javascript-modules-happened-thanks-to-nodejs">Birth of JavaScript Modules happened thanks to Node.js</a></li><li class="sidebar-item__anchor" title="npm + Node.js + modules – mass distribution"><a href="/concepts/why-webpack/#npm--nodejs--modules--mass-distribution">npm + Node.js + modules – mass distribution</a></li><li class="sidebar-item__anchor" title="ESM - ECMAScript Modules"><a href="/concepts/why-webpack/#esm---ecmascript-modules">ESM - ECMAScript Modules</a></li><li class="sidebar-item__anchor" title="Automatic Dependency Collection"><a href="/concepts/why-webpack/#automatic-dependency-collection">Automatic Dependency Collection</a></li><li class="sidebar-item__anchor" title="Wouldn&#x27;t it be nice…"><a href="/concepts/why-webpack/#wouldnt-it-be-nice">Wouldn&#x27;t it be nice…</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="/concepts/under-the-hood/">Under The Hood</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="The main parts"><a href="/concepts/under-the-hood/#the-main-parts">The main parts</a></li><li class="sidebar-item__anchor" title="Chunks"><a href="/concepts/under-the-hood/#chunks">Chunks</a></li><li class="sidebar-item__anchor" title="Output"><a href="/concepts/under-the-hood/#output">Output</a></li></ul></div></div><div class="sidebar__docs-version">You are reading webpack <!-- -->5<!-- --> documentation. Change here to:<ul><li><a rel="nofollow" href="https://v4.webpack.js.org">webpack <!-- -->4<!-- --> documentation</a></li></ul></div></div></nav><section class="page"><div class="page-links"><a class="page-links__link" href="https://github.com/webpack/webpack.js.org/edit/master/src/content/concepts/printable.md">Edit Document<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="page-links__icon" width="12" fill="#1a6bac"><path d="M17.6 2.4C16 1 15 1.2 15 1.2l-6 6L2.2 14l-1 4.8 4.8-1 6.7-6.8 6-6s.3-1.1-1.1-2.6zm-12 14.8l-1.5.4-.7-1-1-.7.4-1.6.5-.4s.8 0 1.8 1 1 1.8 1 1.8l-.4.5z"></path></svg></a><span class="page-links__gap">|</span><button class="page-links__link page-links__print as-link" title="Print this page">Print Document<img src="/icon-print.42ad40feec51e6f5f553.svg" alt=""/></button></div><div class="markdown"><h1>Printable</h1><div><h1 id="concepts">Concepts<a href="#concepts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>At its core, <strong>webpack</strong> is a <em>static module bundler</em> for modern JavaScript applications. When webpack processes your application, it internally builds a <a href="/concepts/dependency-graph/">dependency graph</a> which maps every module your project needs and generates one or more <em>bundles</em>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Learn more about JavaScript modules and webpack modules <a href="/concepts/modules">here</a>.</p></aside> <p>Since version 4.0.0, <strong>webpack does not require a configuration file</strong> to bundle your project. Nevertheless, it is <a href="/configuration">incredibly configurable</a> to better fit your needs.</p> <p>To get started you only need to understand its <strong>Core Concepts</strong>:</p> <ul> <li><a href="#entry">Entry</a></li> <li><a href="#output">Output</a></li> <li><a href="#loaders">Loaders</a></li> <li><a href="#plugins">Plugins</a></li> <li><a href="#mode">Mode</a></li> <li><a href="#browser-compatibility">Browser Compatibility</a></li> </ul> <p>This document is intended to give a <strong>high-level</strong> overview of these concepts, while providing links to detailed concept-specific use cases.</p> <p>For a better understanding of the ideas behind module bundlers and how they work under the hood, consult these resources:</p> <ul> <li><a href="https://www.youtube.com/watch?v=UNMkLHzofQI">Manually Bundling an Application</a></li> <li><a href="https://www.youtube.com/watch?v=Gc9-7PBqOC8">Live Coding a Simple Module Bundler</a></li> <li><a href="https://github.com/ronami/minipack">Detailed Explanation of a Simple Module Bundler</a></li> </ul> <h2 id="entry">Entry<a href="#entry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>An <strong>entry point</strong> indicates which module webpack should use to begin building out its internal <a href="/concepts/dependency-graph/">dependency graph</a>. webpack will figure out which other modules and libraries that entry point depends on (directly and indirectly).</p> <p>By default its value is <code>./src/index.js</code>, but you can specify a different (or multiple entry points) by setting an <a href="/configuration/entry-context/#entry"><code>entry</code> property in the webpack configuration</a>. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./path/to/my/entry/file.js'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Learn more in the <a href="/concepts/entry-points">entry points</a> section.</p></aside> <h2 id="output">Output<a href="#output" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The <strong>output</strong> property tells webpack where to emit the <em>bundles</em> it creates and how to name these files. It defaults to <code>./dist/main.js</code> for the main output file and to the <code>./dist</code> folder for any other generated file.</p> <p>You can configure this part of the process by specifying an <code>output</code> field in your configuration:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./path/to/my/entry/file.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'my-first-webpack.bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>In the example above, we use the <code>output.filename</code> and the <code>output.path</code> properties to tell webpack the name of our bundle and where we want it to be emitted to. In case you're wondering about the path module being imported at the top, it is a core <a href="https://nodejs.org/api/modules.html">Node.js module</a> that gets used to manipulate file paths.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>The <code>output</code> property has <a href="/configuration/output">many more configurable features</a>. If you want to learn about the concepts behind it, you can <a href="/concepts/output">read more in the output section</a>.</p></aside> <h2 id="loaders">Loaders<a href="#loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Out of the box, webpack only understands JavaScript and JSON files. <strong>Loaders</strong> allow webpack to process other types of files and convert them into valid <a href="/concepts/modules">modules</a> that can be consumed by your application and added to the dependency graph.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Note that the ability to <code>import</code> any type of module, e.g. <code>.css</code> files, is a feature specific to webpack and may not be supported by other bundlers or task runners. We feel this extension of the language is warranted as it allows developers to build a more accurate dependency graph.</p></aside> <p>At a high level, <strong>loaders</strong> have two properties in your webpack configuration:</p> <ol> <li>The <code>test</code> property identifies which file or files should be transformed.</li> <li>The <code>use</code> property indicates which loader should be used to do the transforming.</li> </ol> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'my-first-webpack.bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex">/\.txt$/</span><span class="token punctuation">,</span> use<span class="token operator">:</span> <span class="token string">'raw-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The configuration above has defined a <code>rules</code> property for a single module with two required properties: <code>test</code> and <code>use</code>. This tells webpack's compiler the following:</p> <blockquote> <p>"Hey webpack compiler, when you come across a path that resolves to a '.txt' file inside of a <code>require()</code>/<code>import</code> statement, <strong>use</strong> the <code>raw-loader</code> to transform it before you add it to the bundle."</p> </blockquote> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>It is important to remember that when defining rules in your webpack config, you are defining them under <code>module.rules</code> and not <code>rules</code>. For your benefit, webpack will warn you if this is done incorrectly.</p></aside> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>Keep in mind that when using regex to match files, you may not quote it. i.e <code>/\.txt$/</code> is not the same as <code>'/\.txt$/'</code> or <code>"/\.txt$/"</code>. The former instructs webpack to match any file that ends with .txt and the latter instructs webpack to match a single file with an absolute path '.txt'; this is likely not your intention.</p></aside> <p>You can check further customization when including loaders in the <a href="/concepts/loaders">loaders section</a>.</p> <h2 id="plugins">Plugins<a href="#plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>While loaders are used to transform certain types of modules, plugins can be leveraged to perform a wider range of tasks like bundle optimization, asset management and injection of environment variables.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Check out the <a href="/api/plugins">plugin interface</a> and how to use it to extend webpack's capabilities.</p></aside> <p>In order to use a plugin, you need to <code>require()</code> it and add it to the <code>plugins</code> array. Most plugins are customizable through options. Since you can use a plugin multiple times in a configuration for different purposes, you need to create an instance of it by calling it with the <code>new</code> operator.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//installed via npm</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//to access built-in plugins</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex">/\.txt$/</span><span class="token punctuation">,</span> use<span class="token operator">:</span> <span class="token string">'raw-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> template<span class="token operator">:</span> <span class="token string">'./src/index.html'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>In the example above, the <code>html-webpack-plugin</code> generates an HTML file for your application by injecting automatically all your generated bundles.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>There are many plugins that webpack provides out of the box! Check out the <a href="/plugins">list of plugins</a>.</p></aside> <p>Using plugins in your webpack configuration is straightforward. However, there are many use cases that are worth further exploration. <a href="/concepts/plugins">Learn more about them here</a>.</p> <h2 id="mode">Mode<a href="#mode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>By setting the <code>mode</code> parameter to either <code>development</code>, <code>production</code> or <code>none</code>, you can enable webpack's built-in optimizations that correspond to each environment. The default value is <code>production</code>.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Learn more about the <a href="/configuration/mode">mode configuration here</a> and what optimizations take place on each value.</p> <h2 id="browser-compatibility">Browser Compatibility<a href="#browser-compatibility" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack supports all browsers that are <a href="https://kangax.github.io/compat-table/es5/">ES5-compliant</a> (IE8 and below are not supported). webpack needs <code>Promise</code> for <a href="/guides/code-splitting/#dynamic-imports"><code>import()</code> and <code>require.ensure()</code></a>. If you want to support older browsers, you will need to <a href="/guides/shimming/">load a polyfill</a> before using these expressions.</p> <h2 id="environment">Environment<a href="#environment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack 5 runs on Node.js version 10.13.0+.</p> <h1 id="entry-points">Entry Points<a href="#entry-points" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>As mentioned in <a href="/guides/getting-started/#using-a-configuration">Getting Started</a>, there are multiple ways to define the <code>entry</code> property in your webpack configuration. We will show you the ways you <strong>can</strong> configure the <code>entry</code> property, in addition to explaining why it may be useful to you.</p> <h2 id="single-entry-shorthand-syntax">Single Entry (Shorthand) Syntax<a href="#single-entry-shorthand-syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Usage: <code>entry: string | [string]</code></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./path/to/my/entry/file.js'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The single entry syntax for the <code>entry</code> property is a shorthand for:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    main<span class="token operator">:</span> <span class="token string">'./path/to/my/entry/file.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>We can also pass an array of file paths to the <code>entry</code> property which creates what is known as a <strong>"multi-main entry"</strong>. This is useful when you would like to inject multiple dependent files together and graph their dependencies into one "chunk".</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./src/file_1.js'</span><span class="token punctuation">,</span> <span class="token string">'./src/file_2.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Single Entry Syntax is a great choice when you are looking to quickly setup a webpack configuration for an application or tool with one entry point (i.e. a library). However, there is not much flexibility in extending or scaling your configuration with this syntax.</p> <h2 id="object-syntax">Object Syntax<a href="#object-syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Usage: <code>entry: { &#x3C;entryChunkName> string | [string] } | {}</code></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    adminApp<span class="token operator">:</span> <span class="token string">'./src/adminApp.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The object syntax is more verbose. However, this is the most scalable way of defining entry/entries in your application.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p><strong>"Scalable webpack configurations"</strong> are ones that can be reused and combined with other partial configurations. This is a popular technique used to separate concerns by environment, build target, and runtime. They are then merged using specialized tools like <a href="https://github.com/survivejs/webpack-merge">webpack-merge</a>.</p></aside> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>You can pass empty object <code>{}</code> to <code>entry</code> when you have only entry points generated by plugins.</p></aside> <h3 id="entrydescription-object">EntryDescription object<a href="#entrydescription-object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>An object with entry point description. You can specify the following properties.</p> <ul> <li><code>dependOn</code>: The entry points that the current entry point depends on. They must be loaded before this entry point is loaded.</li> <li><code>filename</code>: Specifies the name of each output file on disk.</li> <li><code>import</code>: Module(s) that are loaded upon startup.</li> <li><code>library</code>: Specify <a href="/configuration/output/#outputlibrary">library options</a> to bundle a library from current entry.</li> <li><code>runtime</code>: The name of the runtime chunk. If set, a runtime chunk with this name is created otherwise an existing entry point is used as runtime.</li> <li><code>publicPath</code>: Specify a public URL address for the output files of this entry when they are referenced in a browser. Also see <a href="/configuration/output/#outputpublicpath">output.publicPath</a>.</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    a2<span class="token operator">:</span> <span class="token string">'dependingfile.js'</span><span class="token punctuation">,</span>
    b2<span class="token operator">:</span> <span class="token punctuation">{</span>
      dependOn<span class="token operator">:</span> <span class="token string">'a2'</span><span class="token punctuation">,</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><code>runtime</code> and <code>dependOn</code> should not be used together on a single entry, so the following config is invalid and would throw an error:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    a2<span class="token operator">:</span> <span class="token string">'./a'</span><span class="token punctuation">,</span>
    b2<span class="token operator">:</span> <span class="token punctuation">{</span>
      runtime<span class="token operator">:</span> <span class="token string">'x2'</span><span class="token punctuation">,</span>
      dependOn<span class="token operator">:</span> <span class="token string">'a2'</span><span class="token punctuation">,</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./b'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Make sure <code>runtime</code> must not point to an existing entry point name, for example the below config would throw an error:</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    a1<span class="token operator">:</span> <span class="token string">'./a'</span><span class="token punctuation">,</span>
    b1<span class="token operator">:</span> <span class="token punctuation">{</span>
      runtime<span class="token operator">:</span> <span class="token string">'a1'</span><span class="token punctuation">,</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./b'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Also <code>dependOn</code> must not be circular, the following example again would throw an error:</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    a3<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./a'</span><span class="token punctuation">,</span>
      dependOn<span class="token operator">:</span> <span class="token string">'b3'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    b3<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./b'</span><span class="token punctuation">,</span>
      dependOn<span class="token operator">:</span> <span class="token string">'a3'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="scenarios">Scenarios<a href="#scenarios" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Below is a list of entry configurations and their real-world use cases:</p> <h3 id="separate-app-and-vendor-entries">Separate App and Vendor Entries<a href="#separate-app-and-vendor-entries" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    main<span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    vendor<span class="token operator">:</span> <span class="token string">'./src/vendor.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.prod.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].[contenthash].bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.dev.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>What does this do?</strong> We are telling webpack that we would like 2 separate entry points (like the above example).</p> <p><strong>Why?</strong> With this you can import required libraries or files that aren't modified (e.g. Bootstrap, jQuery, images, etc) inside <code>vendor.js</code> and they will be bundled together into their own chunk. Content hash remains the same, which allows the browser to cache them separately thereby reducing load time.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>In webpack version &#x3C; 4 it was common to add vendors as a separate entry point to compile it as a separate file (in combination with the <code>CommonsChunkPlugin</code>). <br><br> This is discouraged in webpack 4. Instead, the <a href="/configuration/optimization/#optimizationsplitchunks"><code>optimization.splitChunks</code></a> option takes care of separating vendors and app modules and creating a separate file. <strong>Do not</strong> create an entry for vendors or other stuff that is not the starting point of execution.</p></aside> <h3 id="multi-page-application">Multi Page Application<a href="#multi-page-application" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    pageOne<span class="token operator">:</span> <span class="token string">'./src/pageOne/index.js'</span><span class="token punctuation">,</span>
    pageTwo<span class="token operator">:</span> <span class="token string">'./src/pageTwo/index.js'</span><span class="token punctuation">,</span>
    pageThree<span class="token operator">:</span> <span class="token string">'./src/pageThree/index.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>What does this do?</strong> We are telling webpack that we would like 3 separate dependency graphs (like the above example).</p> <p><strong>Why?</strong> In a multi-page application, the server is going to fetch a new HTML document for you. The page reloads this new document and assets are redownloaded. However, this gives us the unique opportunity to do things like using <a href="/configuration/optimization/#optimizationsplitchunks"><code>optimization.splitChunks</code></a> to create bundles of shared application code between each page. Multi-page applications that reuse a lot of code/modules between entry points can greatly benefit from these techniques, as the number of entry points increases.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>As a rule of thumb: Use exactly one entry point for each HTML document. See the issue <a href="https://bundlers.tooling.report/code-splitting/multi-entry/#webpack">described here</a> for more details.</p></aside> <h1 id="output-1">Output<a href="#output-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Configuring the <code>output</code> configuration options tells webpack how to write the compiled files to disk. Note that, while there can be multiple <code>entry</code> points, only one <code>output</code> configuration is specified.</p> <h2 id="usage">Usage<a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The minimum requirement for the <code>output</code> property in your webpack configuration is to set its value to an object and provide an <a href="/configuration/output/#outputfilename"><code>output.filename</code></a> to use for the output file(s):</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This configuration would output a single <code>bundle.js</code> file into the <code>dist</code> directory.</p> <h2 id="multiple-entry-points">Multiple Entry Points<a href="#multiple-entry-points" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>If your configuration creates more than a single "chunk" (as with multiple entry points or when using plugins like CommonsChunkPlugin), you should use <a href="/configuration/output/#outputfilename">substitutions</a> to ensure that each file has a unique name.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token string">'./src/app.js'</span><span class="token punctuation">,</span>
    search<span class="token operator">:</span> <span class="token string">'./src/search.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].js'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> __dirname <span class="token operator">+</span> <span class="token string">'/dist'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// writes to disk: ./dist/app.js, ./dist/search.js</span></code></pre> <h2 id="advanced">Advanced<a href="#advanced" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Here's a more complicated example of using a CDN and hashes for assets:</p> <p><strong>config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/home/proj/cdn/assets/[fullhash]'</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> <span class="token string">'https://cdn.example.com/assets/[fullhash]/'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>In cases where the eventual <code>publicPath</code> of output files isn't known at compile time, it can be left blank and set dynamically at runtime via the <code>__webpack_public_path__</code> variable in the entry point file:</p> <pre><code class="hljs language-javascript">__webpack_public_path__ <span class="token operator">=</span> myRuntimePublicPath<span class="token punctuation">;</span>

<span class="token comment">// rest of your application entry</span></code></pre> <h1 id="loaders-1">Loaders<a href="#loaders-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Loaders are transformations that are applied to the source code of a module. They allow you to pre-process files as you <code>import</code> or “load” them. Thus, loaders are kind of like “tasks” in other build tools and provide a powerful way to handle front-end build steps. Loaders can transform files from a different language (like TypeScript) to JavaScript or load inline images as data URLs. Loaders even allow you to do things like <code>import</code> CSS files directly from your JavaScript modules!</p> <h2 id="example">Example<a href="#example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>For example, you can use loaders to tell webpack to load a CSS file or to convert TypeScript to JavaScript. To do this, you would start by installing the loaders you need:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev css-loader ts-loader</code></pre> <p>And then instruct webpack to use the <a href="/loaders/css-loader"><code>css-loader</code></a> for every <code>.css</code> file and the <a href="https://github.com/TypeStrong/ts-loader"><code>ts-loader</code></a> for all <code>.ts</code> files:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span> use<span class="token operator">:</span> <span class="token string">'css-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> test<span class="token operator">:</span> <span class="token regex">/\.ts$/</span><span class="token punctuation">,</span> use<span class="token operator">:</span> <span class="token string">'ts-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="using-loaders">Using Loaders<a href="#using-loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>There are three ways to use loaders in your application:</p> <ul> <li><a href="#configuration">Configuration</a> (recommended): Specify them in your <strong>webpack.config.js</strong> file.</li> <li><a href="#inline">Inline</a>: Specify them explicitly in each <code>import</code> statement.</li> <li><a href="#cli">CLI</a>: Specify them within a shell command.</li> </ul> <h3 id="configuration">Configuration<a href="#configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="/configuration/module/#modulerules"><code>module.rules</code></a> allows you to specify several loaders within your webpack configuration. This is a concise way to display loaders, and helps to maintain clean code. It also offers you a full overview of each respective loader.</p> <p>Loaders are evaluated/executed from right to left (or from bottom to top). In the example below execution starts with sass-loader, continues with css-loader and finally ends with style-loader. See <a href="/concepts/loaders/#loader-features">"Loader Features"</a> for more information about loaders order.</p> <pre><code class="hljs language-js-with-links">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// [style-loader](/loaders/style-loader)</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'style-loader'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// [css-loader](/loaders/css-loader)</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              modules<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// [sass-loader](/loaders/sass-loader)</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'sass-loader'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="inline">Inline<a href="#inline" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>It's possible to specify loaders in an <code>import</code> statement, or any <a href="/api/module-methods">equivalent "importing" method</a>. Separate loaders from the resource with <code>!</code>. Each part is resolved relative to the current directory.</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> Styles <span class="token keyword">from</span> <span class="token string">'style-loader!css-loader?modules!./styles.css'</span><span class="token punctuation">;</span></code></pre> <p>It's possible to override any loaders, preLoaders and postLoaders from the <a href="/configuration">configuration</a> by prefixing the inline <code>import</code> statement:</p> <ul> <li> <p>Prefixing with <code>!</code> will disable all configured normal loaders</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> Styles <span class="token keyword">from</span> <span class="token string">'!style-loader!css-loader?modules!./styles.css'</span><span class="token punctuation">;</span></code></pre> </li> <li> <p>Prefixing with <code>!!</code> will disable all configured loaders (preLoaders, loaders, postLoaders)</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> Styles <span class="token keyword">from</span> <span class="token string">'!!style-loader!css-loader?modules!./styles.css'</span><span class="token punctuation">;</span></code></pre> </li> <li> <p>Prefixing with <code>-!</code> will disable all configured preLoaders and loaders but not postLoaders</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> Styles <span class="token keyword">from</span> <span class="token string">'-!style-loader!css-loader?modules!./styles.css'</span><span class="token punctuation">;</span></code></pre> </li> </ul> <p>Options can be passed with a query parameter, e.g. <code>?key=value&#x26;foo=bar</code>, or a JSON object, e.g. <code>?{"key":"value","foo":"bar"}</code>.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Use <code>module.rules</code> whenever possible, as this will reduce boilerplate in your source code and allow you to debug or locate a loader faster if something goes south.</p></aside> <h3 id="cli">CLI<a href="#cli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You can also use loaders through the CLI:</p> <pre><code class="hljs language-bash">webpack --module-bind pug-loader --module-bind <span class="token string">'css=style-loader!css-loader'</span></code></pre> <p>This uses the <code>pug-loader</code> for <code>.jade</code> files, and the <a href="/loaders/style-loader"><code>style-loader</code></a> and <a href="/loaders/css-loader"><code>css-loader</code></a> for <code>.css</code> files.</p> <h2 id="loader-features">Loader Features<a href="#loader-features" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li>Loaders can be chained. Each loader in the chain applies transformations to the processed resource. A chain is executed in reverse order. The first loader passes its result (resource with applied transformations) to the next one, and so forth. Finally, webpack expects JavaScript to be returned by the last loader in the chain.</li> <li>Loaders can be synchronous or asynchronous.</li> <li>Loaders run in Node.js and can do everything that’s possible there.</li> <li>Loaders can be configured with an <code>options</code> object (using <code>query</code> parameters to set options is still supported but has been deprecated).</li> <li>Normal modules can export a loader in addition to the normal <code>main</code> via <code>package.json</code> with the <code>loader</code> field.</li> <li>Plugins can give loaders more features.</li> <li>Loaders can emit additional arbitrary files.</li> </ul> <p>Loaders provide a way to customize the output through their preprocessing functions. Users now have more flexibility to include fine-grained logic such as compression, packaging, language translations and <a href="/loaders">more</a>.</p> <h2 id="resolving-loaders">Resolving Loaders<a href="#resolving-loaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Loaders follow the standard <a href="/concepts/module-resolution/">module resolution</a>. In most cases it will be loaded from the <a href="/concepts/module-resolution/#module-paths">module path</a> (think <code>npm install</code>, <code>node_modules</code>).</p> <p>A loader module is expected to export a function and be written in Node.js compatible JavaScript. They are most commonly managed with npm, but you can also have custom loaders as files within your application. By convention, loaders are usually named <code>xxx-loader</code> (e.g. <code>json-loader</code>). See <a href="/contribute/writing-a-loader/">"Writing a Loader"</a> for more information.</p> <h1 id="plugins-1">Plugins<a href="#plugins-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><strong>Plugins</strong> are the <a href="https://github.com/webpack/tapable">backbone</a> of webpack. webpack itself is built on the <strong>same plugin system</strong> that you use in your webpack configuration!</p> <p>They also serve the purpose of doing <strong>anything else</strong> that a <a href="/concepts/loaders">loader</a> cannot do.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>When consuming <a href="https://github.com/webpack/webpack-sources"><code>webpack-sources</code></a> package in plugins, use <code>require('webpack').sources</code> instead of <code>require('webpack-sources')</code> to avoid version conflicts for persistent caching.</p></aside> <h2 id="anatomy">Anatomy<a href="#anatomy" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>A webpack <strong>plugin</strong> is a JavaScript object that has an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"><code>apply</code></a> method. This <code>apply</code> method is called by the webpack compiler, giving access to the <strong>entire</strong> compilation lifecycle.</p> <p><strong>ConsoleLogOnBuildWebpackPlugin.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> pluginName <span class="token operator">=</span> <span class="token string">'ConsoleLogOnBuildWebpackPlugin'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ConsoleLogOnBuildWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>run<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>pluginName<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'The webpack build process is starting!!!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> ConsoleLogOnBuildWebpackPlugin<span class="token punctuation">;</span></code></pre> <p>The first parameter of the tap method of the compiler hook should be a camelized version of the plugin name. It is advisable to use a constant for this so it can be reused in all hooks.</p> <h2 id="usage-1">Usage<a href="#usage-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Since <strong>plugins</strong> can take arguments/options, you must pass a <code>new</code> instance to the <code>plugins</code> property in your webpack configuration.</p> <p>Depending on how you are using webpack, there are multiple ways to use plugins.</p> <h3 id="configuration-1">Configuration<a href="#configuration-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//installed via npm</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//to access built-in plugins</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./path/to/my/entry/file.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'my-first-webpack.bundle.js'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(js|jsx)$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> template<span class="token operator">:</span> <span class="token string">'./src/index.html'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The <code>ProgressPlugin</code> is used to customize how progress should be reported during compilation, and <code>HtmlWebpackPlugin</code> will generate a HTML file including the <code>my-first-webpack.bundle.js</code> file using a <code>script</code> tag.</p> <h3 id="node-api">Node API<a href="#node-api" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>When using the Node API, you can also pass plugins via the <code>plugins</code> property in the configuration.</p> <p><strong>some-node-script.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//to access webpack runtime</span>
<span class="token keyword">const</span> configuration <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.config.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>

compiler<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> stats</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Did you know: The example seen above is extremely similar to the <a href="https://github.com/webpack/webpack/blob/e7087ffeda7fa37dfe2ca70b5593c6e899629a2c/bin/webpack.js#L290-L292">webpack runtime itself!</a> There are lots of great usage examples hiding in the <a href="https://github.com/webpack/webpack">webpack source code</a> that you can apply to your own configurations and scripts!</p></aside> <h1 id="configuration-2">Configuration<a href="#configuration-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>You may have noticed that few webpack configurations look exactly alike. This is because <strong>webpack's configuration file is a JavaScript file that exports a webpack <a href="/configuration/">configuration</a>.</strong> This configuration is then processed by webpack based upon its defined properties.</p> <p>Because it's a standard Node.js CommonJS module, you <strong>can do the following</strong>:</p> <ul> <li>import other files via <code>require(...)</code></li> <li>use utilities on npm via <code>require(...)</code></li> <li>use JavaScript control flow expressions, e.g. the <code>?:</code> operator</li> <li>use constants or variables for often used values</li> <li>write and execute functions to generate a part of the configuration</li> </ul> <p>Use these features when appropriate.</p> <p>While they are technically feasible, <strong>the following practices should be avoided</strong>:</p> <ul> <li>Access CLI arguments, when using the webpack CLI (instead write your own CLI, or <a href="/configuration/configuration-types/">use <code>--env</code></a>)</li> <li>Export non-deterministic values (calling webpack twice should result in the same output files)</li> <li>Write long configurations (instead split the configuration into multiple files)</li> </ul> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>The most important part to take away from this document is that there are many different ways to format and style your webpack configuration. The key is to stick with something consistent that you and your team can understand and maintain.</p></aside> <p>The examples below describe how webpack's configuration can be both expressive and configurable because <em>it is code</em>:</p> <h2 id="simple-configuration">Simple Configuration<a href="#simple-configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token string">'./foo.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'foo.bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><em>See</em>: <a href="/configuration/">Configuration section</a> for all supported configuration options</p> <h2 id="multiple-targets">Multiple Targets<a href="#multiple-targets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Along with exporting a single configuration as an object, <a href="/configuration/configuration-types/#exporting-a-function">function</a> or <a href="/configuration/configuration-types/#exporting-a-promise">Promise</a>, you can export multiple configurations.</p> <p><em>See</em>: <a href="/configuration/configuration-types/#exporting-multiple-configurations">Exporting multiple configurations</a></p> <h2 id="using-other-configuration-languages">Using other Configuration Languages<a href="#using-other-configuration-languages" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack accepts configuration files written in multiple programming and data languages.</p> <p><em>See</em>: <a href="/configuration/configuration-languages/">Configuration Languages</a></p> <h1 id="modules">Modules<a href="#modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>In <a href="https://en.wikipedia.org/wiki/Modular_programming">modular programming</a>, developers break programs up into discrete chunks of functionality called a <em>module</em>.</p> <p>Each module has a smaller surface area than a full program, making verification, debugging, and testing trivial. Well-written <em>modules</em> provide solid abstractions and encapsulation boundaries, so that each module has a coherent design and a clear purpose within the overall application.</p> <p>Node.js has supported modular programming almost since its inception. On the web, however, support for <em>modules</em> has been slow to arrive. Multiple tools exist that support modular JavaScript on the web, with a variety of benefits and limitations. webpack builds on lessons learned from these systems and applies the concept of <em>modules</em> to any file in your project.</p> <h2 id="what-is-a-webpack-module">What is a webpack Module<a href="#what-is-a-webpack-module" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In contrast to <a href="https://nodejs.org/api/modules.html">Node.js modules</a>, webpack <em>modules</em> can express their <em>dependencies</em> in a variety of ways. A few examples are:</p> <ul> <li>An <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">ES2015 <code>import</code></a> statement</li> <li>A <a href="http://www.commonjs.org/specs/modules/1.0/">CommonJS</a> <code>require()</code> statement</li> <li>An <a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md">AMD</a> <code>define</code> and <code>require</code> statement</li> <li>An <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import"><code>@import</code> statement</a> inside of a css/sass/less file.</li> <li>An image url in a stylesheet <code>url(...)</code> or HTML <code>&#x3C;img src=...></code> file.</li> </ul> <h2 id="supported-module-types">Supported Module Types<a href="#supported-module-types" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack supports the following module types natively:</p> <ul> <li><a href="/guides/ecma-script-modules">ECMAScript modules</a></li> <li>CommonJS modules</li> <li>AMD modules</li> <li><a href="/guides/asset-modules">Assets</a></li> <li>WebAssembly modules</li> </ul> <p>In addition to that webpack supports modules written in a variety of languages and preprocessors via <em>loaders</em>. <em>Loaders</em> describe to webpack <strong>how</strong> to process non-native <em>modules</em> and include these <em>dependencies</em> into your <em>bundles</em>. The webpack community has built <em>loaders</em> for a wide variety of popular languages and language processors, including:</p> <ul> <li><a href="http://coffeescript.org">CoffeeScript</a></li> <li><a href="https://www.typescriptlang.org">TypeScript</a></li> <li><a href="https://babeljs.io">ESNext (Babel)</a></li> <li><a href="http://sass-lang.com">Sass</a></li> <li><a href="http://lesscss.org">Less</a></li> <li><a href="http://stylus-lang.com">Stylus</a></li> <li><a href="https://elm-lang.org/">Elm</a></li> </ul> <p>And many others! Overall, webpack provides a powerful and rich API for customization that allows one to use webpack for <strong>any stack</strong>, while staying <strong>non-opinionated</strong> about your development, testing, and production workflows.</p> <p>For a full list, see <a href="/loaders"><strong>the list of loaders</strong></a> or <a href="/api/loaders"><strong>write your own</strong></a>.</p> <h1 id="module-resolution">Module Resolution<a href="#module-resolution" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>A resolver is a library which helps in locating a module by its absolute path. A module can be required as a dependency from another module as:</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">'path/to/module'</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path/to/module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The dependency module can be from the application code or a third-party library. The resolver helps webpack find the module code that needs to be included in the bundle for every such <code>require</code>/<code>import</code> statement. webpack uses <a href="https://github.com/webpack/enhanced-resolve">enhanced-resolve</a> to resolve file paths while bundling modules.</p> <h2 id="resolving-rules-in-webpack">Resolving rules in webpack<a href="#resolving-rules-in-webpack" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Using <code>enhanced-resolve</code>, webpack can resolve three kinds of file paths:</p> <h3 id="absolute-paths">Absolute paths<a href="#absolute-paths" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">'/home/me/file'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'C:\\Users\\me\\file'</span><span class="token punctuation">;</span></code></pre> <p>Since we already have the absolute path to the file, no further resolution is required.</p> <h3 id="relative-paths">Relative paths<a href="#relative-paths" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">'../src/file1'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./file2'</span><span class="token punctuation">;</span></code></pre> <p>In this case, the directory of the resource file where the <code>import</code> or <code>require</code> occurs is taken to be the context directory. The relative path specified in the <code>import/require</code> is joined to this context path to produce the absolute path to the module.</p> <h3 id="module-paths">Module paths<a href="#module-paths" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">'module'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'module/lib/file'</span><span class="token punctuation">;</span></code></pre> <p>Modules are searched for inside all directories specified in <a href="/configuration/resolve/#resolvemodules"><code>resolve.modules</code></a>. You can replace the original module path by an alternate path by creating an alias for it using the <a href="/configuration/resolve/#resolvealias"><code>resolve.alias</code></a> configuration option.</p> <ul> <li>If the package contains a <code>package.json</code> file, then fields specified in <a href="/configuration/resolve/#resolveexportsfields"><code>resolve.exportsFields</code></a> configuration options are looked up in order, and the first such field in <code>package.json</code> determines the available exports from the package according to the <a href="/guides/package-exports/">package exports guideline</a>.</li> </ul> <p>Once the path is resolved based on the above rule, the resolver checks to see if the path points to a file or a directory. If the path points to a file:</p> <ul> <li>If the path has a file extension, then the file is bundled straightaway.</li> <li>Otherwise, the file extension is resolved using the <a href="/configuration/resolve/#resolveextensions"><code>resolve.extensions</code></a> option, which tells the resolver which extensions are acceptable for resolution e.g. <code>.js</code>, <code>.jsx</code>.</li> </ul> <p>If the path points to a folder, then the following steps are taken to find the right file with the right extension:</p> <ul> <li>If the folder contains a <code>package.json</code> file, then fields specified in <a href="/configuration/resolve/#resolvemainfields"><code>resolve.mainFields</code></a> configuration option are looked up in order, and the first such field in <code>package.json</code> determines the file path.</li> <li>If there is no <code>package.json</code> or if the <a href="/configuration/resolve/#resolvemainfields"><code>resolve.mainFields</code></a> do not return a valid path, file names specified in the <a href="/configuration/resolve/#resolvemainfiles"><code>resolve.mainFiles</code></a> configuration option are looked for in order, to see if a matching filename exists in the imported/required directory.</li> <li>The file extension is then resolved in a similar way using the <a href="/configuration/resolve/#resolveextensions"><code>resolve.extensions</code></a> option.</li> </ul> <p>webpack provides reasonable <a href="/configuration/resolve">defaults</a> for these options depending on your build target.</p> <h2 id="resolving-loaders-1">Resolving Loaders<a href="#resolving-loaders-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This follows the same rules as those specified for file resolution. But the <a href="/configuration/resolve/#resolveloader"><code>resolveLoader</code></a> configuration option can be used to have separate resolution rules for loaders.</p> <h2 id="caching">Caching<a href="#caching" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Every filesystem access is cached so that multiple parallel or serial requests to the same file occur faster. In <a href="/configuration/watch/#watch">watch mode</a>, only modified files are evicted from the cache. If watch mode is off, then the cache gets purged before every compilation.</p> <p>See <a href="/configuration/resolve">Resolve API</a> to learn more about the configuration options mentioned above.</p> <h1 id="module-federation">Module Federation<a href="#module-federation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <h2 id="motivation">Motivation<a href="#motivation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Multiple separate builds should form a single application. These separate builds should not have dependencies between each other, so they can be developed and deployed individually.</p> <p>This is often known as Micro-Frontends, but is not limited to that.</p> <h2 id="low-level-concepts">Low-level concepts<a href="#low-level-concepts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>We distinguish between local and remote modules. Local modules are normal modules which are part of the current build. Remote modules are modules that are not part of the current build and loaded from a so-called container at the runtime.</p> <p>Loading remote modules is considered an asynchronous operation. When using a remote module these asynchronous operations will be placed in the next chunk loading operation(s) that is between the remote module and the entrypoint. It's not possible to use a remote module without a chunk loading operation.</p> <p>A chunk loading operation is usually an <code>import()</code> call, but older constructs like <code>require.ensure</code> or <code>require([...])</code> are supported as well.</p> <p>A container is created through a container entry, which exposes asynchronous access to the specific modules. The exposed access is separated into two steps:</p> <ol> <li>loading the module (asynchronous)</li> <li>evaluating the module (synchronous).</li> </ol> <p>Step 1 will be done during the chunk loading. Step 2 will be done during the module evaluation interleaved with other (local and remote) modules. This way, evaluation order is unaffected by converting a module from local to remote or the other way around.</p> <p>It is possible to nest a container. Containers can use modules from other containers. Circular dependencies between containers are also possible.</p> <h3 id="overriding">Overriding<a href="#overriding" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>A container is able to flag selected local modules as "overridable". A consumer of the container is able to provide "overrides", which are modules that replace one of the overridable modules of the container. All modules of the container will use the replacement module instead of the local module when the consumer provides one. When the consumer doesn't provide a replacement module, all modules of the container will use the local one.</p> <p>The container will manage overridable modules in a way that they do not need to be downloaded when they have been overridden by the consumer. This usually happens by placing them into separate chunks.</p> <p>On the other hand, the provider of the replacement modules will only provide asynchronous loading functions. It allows the container to load replacement modules only when they are needed. The provider will manage replacement modules in a way that they do not need to be downloaded at all when they are not requested by the container. This usually happens by placing them into separate chunks.</p> <p>A "name" is used to identify overridable modules from the container.</p> <p>Overrides are provided in a similar way as the container exposes modules, separated into two steps:</p> <ol> <li>Loading (asynchronous)</li> <li>evaluating (asynchronous)</li> </ol> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>When nesting is used, providing overrides to one container will automatically override the modules with the same "name" in the nested container(s).</p></aside> <p>Overrides must be provided before the modules of the container are loaded. Overridables that are used in the initial chunk, can only be overridden by a synchronous module override that doesn't use Promises. Once evaluated, overridables are no longer overridable.</p> <h2 id="high-level-concepts">High-level concepts<a href="#high-level-concepts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Each build acts as a container and also consumes other builds as containers. This way each build is able to access any other exposed module by loading it from its container.</p> <p>Shared modules are modules that are both overridable and provided as overrides to nested container. They usually point to the same module in each build, e.g. the same library.</p> <p>The <code>packageName</code> option allows setting a package name to look for a <code>requiredVersion</code>. It is automatically inferred for the module requests by default, set <code>requiredVersion</code> to <code>false</code> when automatic infer should be disabled.</p> <h2 id="building-blocks">Building blocks<a href="#building-blocks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="overridablesplugin-low-level"><code>OverridablesPlugin</code> (low level)<a href="#overridablesplugin-low-level" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>This plugin makes specific modules "overridable". A local API (<code>__webpack_override__</code>) allows to provide overrides.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> OverridablesPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack/lib/container/OverridablesPlugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">OverridablesPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// we define an overridable module with OverridablesPlugin</span>
        test1<span class="token operator">:</span> <span class="token string">'./src/test1.js'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>src/index.js</strong></p> <pre><code class="hljs language-js"><span class="token function">__webpack_override__</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// here we override test1 module</span>
  <span class="token function-variable function">test1</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">'I will override test1 module under src'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="containerplugin-low-level"><code>ContainerPlugin</code> (low level)<a href="#containerplugin-low-level" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>This plugin creates an additional container entry with the specified exposed modules. It also uses the <code>OverridablesPlugin</code> internally and exposes the <code>override</code> API to consumer of the container.</p> <h3 id="containerreferenceplugin-low-level"><code>ContainerReferencePlugin</code> (low level)<a href="#containerreferenceplugin-low-level" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>This plugin adds specific references to containers as externals and allows to import remote modules from these containers. It also calls the <code>override</code> API of these containers to provide overrides to them. Local overrides (via <code>__webpack_override__</code> or <code>override</code> API when build is also a container) and specified overrides are provided to all referenced containers.</p> <h3 id="modulefederationplugin-high-level"><code>ModuleFederationPlugin</code> (high level)<a href="#modulefederationplugin-high-level" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>This plugin combines <code>ContainerPlugin</code> and <code>ContainerReferencePlugin</code>. Overrides and overridables are combined into a single list of specified shared modules.</p> <h2 id="concept-goals">Concept goals<a href="#concept-goals" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li>It should be possible to expose and use any module type that webpack supports.</li> <li>Chunk loading should load everything needed in parallel (web: single round-trip to server).</li> <li>Control from consumer to container <ul> <li>Overriding modules is a one-directional operation.</li> <li>Sibling containers cannot override each other's modules.</li> </ul> </li> <li>Concept should be environment-independent. <ul> <li>Usable in web, Node.js, etc.</li> </ul> </li> <li>Relative and absolute request in shared: <ul> <li>Will always be provided, even if not used.</li> <li>Will resolve relative to <code>config.context</code>.</li> <li>Does not use a <code>requiredVersion</code> by default.</li> </ul> </li> <li>Module requests in shared: <ul> <li>Are only provided when they are used.</li> <li>Will match all used equal module requests in your build.</li> <li>Will provide all matching modules.</li> <li>Will extract <code>requiredVersion</code> from package.json at this position in the graph.</li> <li>Could provide and consume multiple different version when you have nested node_modules.</li> </ul> </li> <li>Module requests with trailing <code>/</code> in shared will match all module requests with this prefix.</li> </ul> <h2 id="use-cases">Use cases<a href="#use-cases" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="separate-builds-per-page">Separate builds per page<a href="#separate-builds-per-page" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Each page of a Single Page Application is exposed from container build in a separate build. The application shell is also a separate build referencing all pages as remote modules. This way each page can be separately deployed. The application shell is deployed when routes are updated or new routes are added. The application shell defines commonly used libraries as shared modules to avoid duplication of them in the page builds.</p> <h3 id="components-library-as-container">Components library as container<a href="#components-library-as-container" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Many applications share a common components library which could be built as a container with each component exposed. Each application consumes components from the components library container. Changes to the components library can be separately deployed without the need to re-deploy all applications. The application automatically uses the up-to-date version of the components library.</p> <h2 id="dynamic-remote-containers">Dynamic Remote Containers<a href="#dynamic-remote-containers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The container interface supports <code>get</code> and <code>init</code> methods. <code>init</code> is an <code>async</code> compatible method that is called with one argument: the shared scope object. This object is used as a shared scope in the remote container and is filled with the provided modules from a host. It can be leveraged to connect remote containers to a host container dynamically at runtime.</p> <p><strong>init.js</strong></p> <pre><code class="hljs language-js"><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Initializes the shared scope. Fills it with known provided modules from this build and all remotes</span>
  <span class="token keyword">await</span> <span class="token function">__webpack_init_sharing__</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> container <span class="token operator">=</span> window<span class="token punctuation">.</span>someContainer<span class="token punctuation">;</span> <span class="token comment">// or get the container somewhere else</span>
  <span class="token comment">// Initialize the container, it may provide shared modules</span>
  <span class="token keyword">await</span> container<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>__webpack_share_scopes__<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> module <span class="token operator">=</span> <span class="token keyword">await</span> container<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'./module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The container tries to provide shared modules, but if the shared module has already been used, a warning and the provided shared module will be ignored. The container might still use it as a fallback.</p> <p>This way you could dynamically load an A/B test which provides a different version of a shared module.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Ensure you have loaded the container before attempting to dynamically connect a remote container.</p></aside> <p>Example:</p> <p><strong>init.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">function</span> <span class="token function">loadComponent</span><span class="token punctuation">(</span><span class="token parameter">scope<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Initializes the shared scope. Fills it with known provided modules from this build and all remotes</span>
    <span class="token keyword">await</span> <span class="token function">__webpack_init_sharing__</span><span class="token punctuation">(</span><span class="token string">'default'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> container <span class="token operator">=</span> window<span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// or get the container somewhere else</span>
    <span class="token comment">// Initialize the container, it may provide shared modules</span>
    <span class="token keyword">await</span> container<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>__webpack_share_scopes__<span class="token punctuation">.</span>default<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> factory <span class="token operator">=</span> <span class="token keyword">await</span> window<span class="token punctuation">[</span>scope<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> Module <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Module<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">loadComponent</span><span class="token punctuation">(</span><span class="token string">'abtests'</span><span class="token punctuation">,</span> <span class="token string">'test123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><a href="https://github.com/module-federation/module-federation-examples/tree/master/advanced-api/dynamic-remotes">See full implementation</a></p> <h2 id="troubleshooting">Troubleshooting<a href="#troubleshooting" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong><code>Uncaught Error: Shared module is not available for eager consumption</code></strong></p> <p>The application is eagerly executing an application that is operating as an omnidirectional host. There are options to choose from:</p> <p>You can set the dependency as eager inside the advanced API of Module Federation, which doesn’t put the modules in an async chunk, but provides them synchronously. This allows us to use these shared modules in the initial chunk. But be careful as all provided and fallback modules will always be downloaded. It’s recommended to provide it only at one point of your application, e.g. the shell.</p> <p>We strongly recommend using an asynchronous boundary. It will split out the initialization code of a larger chunk to avoid any additional round trips and improve performance in general.</p> <p>For example, your entry looked like this:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Let's create <code>bootstrap.js</code> file and move contents of the entry into it, and import that bootstrap into the entry:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import('./bootstrap');
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> import React from 'react';
</span><span class="token prefix deleted">-</span><span class="token line"> import ReactDOM from 'react-dom';
</span><span class="token prefix deleted">-</span><span class="token line"> import App from './App';
</span><span class="token prefix deleted">-</span><span class="token line"> ReactDOM.render(&#x3C;App />, document.getElementById('root'));</span></span></code></pre> <p><strong>bootstrap.js</strong></p> <pre><code class="hljs language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import React from 'react';
</span><span class="token prefix inserted">+</span><span class="token line"> import ReactDOM from 'react-dom';
</span><span class="token prefix inserted">+</span><span class="token line"> import App from './App';
</span><span class="token prefix inserted">+</span><span class="token line"> ReactDOM.render(&#x3C;App />, document.getElementById('root'));</span></span></code></pre> <p>This method works but can have limitations or drawbacks.</p> <p>Setting <code>eager: true</code> for dependency via the <code>ModuleFederationPlugin</code></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token comment">// ...</span>
<span class="token keyword">new</span> <span class="token class-name">ModuleFederationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  shared<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>deps<span class="token punctuation">,</span>
    react<span class="token operator">:</span> <span class="token punctuation">{</span>
      eager<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong><code>Uncaught Error: Module "./Button" does not exist in container.</code></strong></p> <p>It likely does not say <code>"./Button"</code>, but the error message will look similar. This issue is typically seen if you are upgrading from webpack beta.16 to webpack beta.17.</p> <p>Within ModuleFederationPlugin. Change the exposes from:</p> <pre><code class="hljs language-diff">new ModuleFederationPlugin({
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> exposes: {
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">   'Button': './src/Button'
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   './Button':'./src/Button'
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span>});</code></pre> <p><strong><code>Uncaught TypeError: fn is not a function</code></strong></p> <p>You are likely missing the remote container, make sure it's added. If you have the container loaded for the remote you are trying to consume, but still see this error, add the host container's remote container file to the HTML as well.</p> <h1 id="dependency-graph">Dependency Graph<a href="#dependency-graph" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Any time one file depends on another, webpack treats this as a <em>dependency</em>. This allows webpack to take non-code assets, such as images or web fonts, and also provide them as <em>dependencies</em> for your application.</p> <p>When webpack processes your application, it starts from a list of modules defined on the command line or in its configuration file. Starting from these <a href="/concepts/entry-points/"><em>entry points</em></a>, webpack recursively builds a <em>dependency graph</em> that includes every module your application needs, then bundles all of those modules into a small number of <em>bundles</em> - often, just one - to be loaded by the browser.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>Bundling your application is especially powerful for <em>HTTP/1.1</em> clients, as it minimizes the number of times your app has to wait while the browser starts a new request. For <em>HTTP/2</em>, you can also use <a href="/guides/code-splitting/">Code Splitting</a> to achieve best results.</p></aside> <h1 id="targets">Targets<a href="#targets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Because JavaScript can be written for both server and browser, webpack offers multiple deployment <em>targets</em> that you can set in your webpack <a href="/configuration">configuration</a>.</p> <aside class="warning"><h6 class="warning__prefix">warning</h6><p>The webpack <code>target</code> property is not to be confused with the <code>output.libraryTarget</code> property. For more information see <a href="/concepts/output/">our guide</a> on the <code>output</code> property.</p></aside> <h2 id="usage-2">Usage<a href="#usage-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To set the <code>target</code> property, you simply set the target value in your webpack config:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">'node'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>In the example above, using <code>node</code> webpack will compile for usage in a Node.js-like environment (uses Node.js <code>require</code> to load chunks and not touch any built in modules like <code>fs</code> or <code>path</code>).</p> <p>Each <em>target</em> has a variety of deployment/environment specific additions, support to fit its needs. See what <a href="/configuration/target/">targets are available</a>.</p> <aside class="todo"><h6 class="todo__prefix">todo</h6><p>Further expansion for other popular target values</p></aside> <h2 id="multiple-targets-1">Multiple Targets<a href="#multiple-targets-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Although webpack does <strong>not</strong> support multiple strings being passed into the <code>target</code> property, you can create an isomorphic library by bundling two separate configurations:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> serverConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">'node'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'lib.node.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//…</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> clientConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  target<span class="token operator">:</span> <span class="token string">'web'</span><span class="token punctuation">,</span> <span class="token comment">// &#x3C;=== can be omitted as default is 'web'</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'lib.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//…</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span>serverConfig<span class="token punctuation">,</span> clientConfig<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre> <p>The example above will create a <code>lib.js</code> and <code>lib.node.js</code> file in your <code>dist</code> folder.</p> <h2 id="resources">Resources<a href="#resources" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>As seen from the options above, there are multiple deployment <em>targets</em> that you can choose from. Below is a list of examples and resources that you can refer to.</p> <ul> <li><strong><a href="https://github.com/TheLarkInn/compare-webpack-target-bundles">compare-webpack-target-bundles</a></strong>: A great resource for testing and viewing different webpack <em>targets</em>. Also great for bug reporting.</li> <li><strong><a href="https://github.com/chentsulin/electron-react-boilerplate">Boilerplate of Electron-React Application</a></strong>: A good example of a build process for electron's main process and renderer process.</li> </ul> <aside class="todo"><h6 class="todo__prefix">todo</h6><p>Need to find up to date examples of these webpack targets being used in live code or boilerplates.</p></aside> <h1 id="the-manifest">The Manifest<a href="#the-manifest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>In a typical application or site built with webpack, there are three main types of code:</p> <ol> <li>The source code you, and maybe your team, have written.</li> <li>Any third-party library or "vendor" code your source is dependent on.</li> <li>A webpack runtime and <strong>manifest</strong> that conducts the interaction of all modules.</li> </ol> <p>This article will focus on the last of these three parts: the runtime and, in particular, the manifest.</p> <h2 id="runtime">Runtime<a href="#runtime" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The runtime, along with the manifest data, is basically all the code webpack needs to connect your modularized application while it's running in the browser. It contains the loading and resolving logic needed to connect your modules as they interact. This includes connecting modules that have already been loaded into the browser as well as logic to lazy-load the ones that haven't.</p> <h2 id="manifest">Manifest<a href="#manifest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Once your application hits the browser in the form of <code>index.html</code> file, some bundles and a variety of other assets required by your application must be loaded and linked somehow. That <code>/src</code> directory you meticulously laid out is now bundled, minified and maybe even split into smaller chunks for lazy-loading by webpack's <a href="/configuration/optimization/"><code>optimization</code></a>. So how does webpack manage the interaction between all of your required modules? This is where the manifest data comes in...</p> <p>As the compiler enters, resolves, and maps out your application, it keeps detailed notes on all your modules. This collection of data is called the "Manifest," and it's what the runtime will use to resolve and load modules once they've been bundled and shipped to the browser. No matter which <a href="/api/module-methods">module syntax</a> you have chosen, those <code>import</code> or <code>require</code> statements have now become <code>__webpack_require__</code> methods that point to module identifiers. Using the data in the manifest, the runtime will be able to find out where to retrieve the modules behind the identifiers.</p> <h2 id="the-problem">The Problem<a href="#the-problem" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>So now you have a little bit of insight about how webpack works behind the scenes. "But, how does this affect me?", you might ask. The simple answer is that most of the time it doesn't. The runtime will do its thing, utilizing the manifest, and everything will appear to just magically work once your application hits the browser. However, if you decide to improve the performance of your projects by utilizing browser caching, this process will all of a sudden become an important thing to understand.</p> <p>By using content hashes within your bundle file names, you can indicate to the browser when the content of a file has changed, thus invalidating the cache. Once you start doing this though, you'll immediately notice some funny behavior. Certain hashes change even when their content apparently does not. This is caused by the injection of the runtime and manifest, which changes every build.</p> <p>See <a href="/guides/output-management/#the-manifest">the manifest section</a> of our <em>Output management</em> guide to learn how to extract the manifest, and read the guides below to learn more about the intricacies of long term caching.</p> <h1 id="hot-module-replacement">Hot Module Replacement<a href="#hot-module-replacement" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Hot Module Replacement (HMR) exchanges, adds, or removes <a href="/concepts/modules/">modules</a> while an application is running, without a full reload. This can significantly speed up development in a few ways:</p> <ul> <li>Retain application state which is lost during a full reload.</li> <li>Save valuable development time by only updating what's changed.</li> <li>Instantly update the browser when modifications are made to CSS/JS in the source code, which is almost comparable to changing styles directly in the browser's dev tools.</li> </ul> <h2 id="how-it-works">How It Works<a href="#how-it-works" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Let's go through some different viewpoints to understand exactly how HMR works...</p> <h3 id="in-the-application">In the Application<a href="#in-the-application" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following steps allow modules to be swapped in and out of an application:</p> <ol> <li>The application asks the HMR runtime to check for updates.</li> <li>The runtime asynchronously downloads the updates and notifies the application.</li> <li>The application then asks the runtime to apply the updates.</li> <li>The runtime synchronously applies the updates.</li> </ol> <p>You can set up HMR so that this process happens automatically, or you can choose to require user interaction for updates to occur.</p> <h3 id="in-the-compiler">In the Compiler<a href="#in-the-compiler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>In addition to normal assets, the compiler needs to emit an "update" to allow updating from the previous version to the new version. The "update" consists of two parts:</p> <ol> <li>The updated <a href="/concepts/manifest">manifest</a> (JSON)</li> <li>One or more updated chunks (JavaScript)</li> </ol> <p>The manifest contains the new compilation hash and a list of all updated chunks. Each of these chunks contains the new code for all updated modules (or a flag indicating that the module was removed).</p> <p>The compiler ensures that module IDs and chunk IDs are consistent between these builds. It typically stores these IDs in memory (e.g. with <a href="/configuration/dev-server/">webpack-dev-server</a>), but it's also possible to store them in a JSON file.</p> <h3 id="in-a-module">In a Module<a href="#in-a-module" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>HMR is an opt-in feature that only affects modules containing HMR code. One example would be patching styling through the <a href="https://github.com/webpack-contrib/style-loader"><code>style-loader</code></a>. In order for patching to work, the <code>style-loader</code> implements the HMR interface; when it receives an update through HMR, it replaces the old styles with the new ones.</p> <p>Similarly, when implementing the HMR interface in a module, you can describe what should happen when the module is updated. However, in most cases, it's not mandatory to write HMR code in every module. If a module has no HMR handlers, the update bubbles up. This means that a single handler can update a complete module tree. If a single module from the tree is updated, the entire set of dependencies is reloaded.</p> <p>See the <a href="/api/hot-module-replacement">HMR API page</a> for details on the <code>module.hot</code> interface.</p> <h3 id="in-the-runtime">In the Runtime<a href="#in-the-runtime" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Here things get a bit more technical... if you're not interested in the internals, feel free to jump to the <a href="/api/hot-module-replacement">HMR API page</a> or <a href="/guides/hot-module-replacement">HMR guide</a>.</p> <p>For the module system runtime, additional code is emitted to track module <code>parents</code> and <code>children</code>. On the management side, the runtime supports two methods: <code>check</code> and <code>apply</code>.</p> <p>A <code>check</code> makes an HTTP request to the update manifest. If this request fails, there is no update available. If it succeeds, the list of updated chunks is compared to the list of currently loaded chunks. For each loaded chunk, the corresponding update chunk is downloaded. All module updates are stored in the runtime. When all update chunks have been downloaded and are ready to be applied, the runtime switches into the <code>ready</code> state.</p> <p>The <code>apply</code> method flags all updated modules as invalid. For each invalid module, there needs to be an update handler in the module or in its parent(s). Otherwise, the invalid flag bubbles up and invalidates parent(s) as well. Each bubble continues until the app's entry point or a module with an update handler is reached (whichever comes first). If it bubbles up from an entry point, the process fails.</p> <p>Afterwards, all invalid modules are disposed (via the dispose handler) and unloaded. The current hash is then updated and all <code>accept</code> handlers are called. The runtime switches back to the <code>idle</code> state and everything continues as normal.</p> <h2 id="get-started">Get Started<a href="#get-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>HMR can be used in development as a LiveReload replacement. <a href="/configuration/dev-server/">webpack-dev-server</a> supports a <code>hot</code> mode in which it tries to update with HMR before trying to reload the whole page. See the <a href="/guides/hot-module-replacement">Hot Module Replacement guide</a> for details.</p> <aside class="tip"><h6 class="tip__prefix">tip</h6><p>As with many other features, webpack's power lies in its customizability. There are <em>many</em> ways of configuring HMR depending on the needs of a particular project. However, for most purposes, <code>webpack-dev-server</code> is a good fit and will allow you to get started with HMR quickly.</p></aside> <h1 id="why-webpack">Why webpack<a href="#why-webpack" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>To understand why you should use webpack, let's recap how we used JavaScript on the web before bundlers were a thing.</p> <p>There are two ways to run JavaScript in a browser. First, include a script for each functionality; this solution is hard to scale because loading too many scripts can cause a network bottleneck. The second option is to use a big <code>.js</code> file containing all your project code, but this leads to problems in scope, size, readability and maintainability.</p> <h2 id="iifes---immediately-invoked-function-expressions">IIFEs - Immediately invoked function expressions<a href="#iifes---immediately-invoked-function-expressions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>IIFEs solve scoping issues for large projects; when script files are wrapped by an IIFE, you can safely concatenate or safely combine files without worrying about scope collision.</p> <p>The use of IIFEs led to tools like Make, Gulp, Grunt, Broccoli or Brunch. These tools are known as task runners, and they concatenate all your project files together.</p> <p>However, changing one file means you have to rebuild the whole thing. Concatenating makes it easy to reuse scripts across files but makes build optimizations more difficult. How can you find out if code is actually being used or not?</p> <p>Even if you only use a single function from lodash, you have to add the entire library and then squish it together. How do you treeshake the dependencies on your code? Lazy loading chunks of code can be hard to do at scale and requires a lot of manual work from the developer.</p> <h2 id="birth-of-javascript-modules-happened-thanks-to-nodejs">Birth of JavaScript Modules happened thanks to Node.js<a href="#birth-of-javascript-modules-happened-thanks-to-nodejs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack runs on Node.js, a JavaScript runtime that can be used in computers and servers outside a browser environment.</p> <p>When Node.js was released a new era started, and it came with new challenges. Now that JavaScript is not running in a browser, how are Node applications supposed to load new chunks of code? There are no html files and script tags that can be added to it.</p> <p>CommonJS came out and introduced <code>require</code>, which allows you to load and use a module in the current file. This solved scope issues out of the box by importing each module as it was needed.</p> <h2 id="npm--nodejs--modules--mass-distribution">npm + Node.js + modules – mass distribution<a href="#npm--nodejs--modules--mass-distribution" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>JavaScript is taking over the world as a language, as a platform and as a way to rapidly develop and create fast applications.</p> <p>But there is no browser support for CommonJS. There are no <a href="https://medium.com/webpack/the-state-of-javascript-modules-4636d1774358">live bindings</a>. There are problems with circular references. Synchronous module resolution and loading is slow. While CommonJS was a great solution for Node.js projects, browsers didn't support modules, so bundlers and tools like Browserify, RequireJS and SystemJS were created, allowing us to write CommonJS modules that run in a browser.</p> <h2 id="esm---ecmascript-modules">ESM - ECMAScript Modules<a href="#esm---ecmascript-modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The good news for web projects is that modules are becoming an official feature in the ECMAScript standard. However, browser support is incomplete and bundling is still faster and currently recommended over these early module implementations.</p> <h2 id="automatic-dependency-collection">Automatic Dependency Collection<a href="#automatic-dependency-collection" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Old school Task Runners and even Google Closure Compiler requires you to manually declare all dependencies upfront. While bundlers like webpack automatically builds and infer your <a href="/concepts/dependency-graph/">dependency graph</a> based on what is imported and exported. This along with other <a href="/concepts/plugins/">plugins</a> and <a href="/concepts/loaders/">loaders</a> make for a great developer experience.</p> <h2 id="wouldnt-it-be-nice">Wouldn't it be nice…<a href="#wouldnt-it-be-nice" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>...to have something that will not only let us write modules but also support any module format (at least until we get to ESM) and handle resources and assets at the same time?</p> <p>This is why webpack exists. It's a tool that lets you bundle your JavaScript applications (supporting both ESM and CommonJS), and it can be extended to support many different assets such as images, fonts and stylesheets.</p> <p>webpack cares about performance and load times; it's always improving or adding new features, such as async chunk loading and prefetching, to deliver the best possible experience for your project and your users.</p> <h1 id="under-the-hood">Under The Hood<a href="#under-the-hood" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <blockquote> <p>This section describes webpack internals and can be useful for plugin developers</p> </blockquote> <p>The bundling is a function that takes some files and emits others.</p> <p>But between input and output, it also has <a href="/concepts/modules/">modules</a>, <a href="/concepts/entry-points/">entry points</a>, chunks, chunk groups, and many other intermediate parts.</p> <h2 id="the-main-parts">The main parts<a href="#the-main-parts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Every file used in your project is a <a href="/concepts/modules/">Module</a></p> <p><strong>./index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> app <span class="token keyword">from</span> <span class="token string">'./app.js'</span><span class="token punctuation">;</span></code></pre> <p><strong>./app.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">'the app'</span><span class="token punctuation">;</span></code></pre> <p>By using each other, the modules form a graph (<code>ModuleGraph</code>).</p> <p>During the bundling process, modules are combined into chunks. Chunks combine into chunk groups and form a graph (<code>ChunkGraph</code>) interconnected through modules. When you describe an entry point - under the hood, you create a chunk group with one chunk.</p> <p><strong>./webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./index.js'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>One chunk group with the <code>main</code> name created (<code>main</code> is the default name for an entry point). This chunk group contains <code>./index.js</code> module. As the parser handles imports inside <code>./index.js</code> new modules are added into this chunk.</p> <p>Another example:</p> <p><strong>./webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token string">'./home.js'</span><span class="token punctuation">,</span>
    about<span class="token operator">:</span> <span class="token string">'./about.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Two chunk groups with names <code>home</code> and <code>about</code> are created. Each of them has a chunk with a module - <code>./home.js</code> for <code>home</code> and <code>./about.js</code> for <code>about</code></p> <blockquote> <p>There might be more than one chunk in a chunk group. For example <a href="/plugins/split-chunks-plugin/">SplitChunksPlugin</a> splits a chunk into one or more chunks.</p> </blockquote> <h2 id="chunks">Chunks<a href="#chunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Chunks come in two forms:</p> <ul> <li><code>initial</code> is the main chunk for the entry point. This chunk contains all the modules and its dependencies that you specify for an entry point.</li> <li><code>non-initial</code> is a chunk that may be lazy-loaded. It may appear when <a href="/guides/code-splitting/#dynamic-imports">dynamic import</a> or <a href="/plugins/split-chunks-plugin/">SplitChunksPlugin</a> is being used.</li> </ul> <p>Each chunk has a corresponding <strong>asset</strong>. The assets are the output files - the result of bundling.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/index.jsx'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>./src/index.jsx</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./app.jsx'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">App</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Initial chunk with name <code>main</code> is created. It contains:</p> <ul> <li><code>./src/index.jsx</code></li> <li><code>react</code></li> <li><code>react-dom</code></li> </ul> <p>and all their dependencies, except <code>./app.jsx</code></p> <p>Non-initial chunk for <code>./app.jsx</code> is created as this module is imported dynamically.</p> <p><strong>Output:</strong></p> <ul> <li><code>/dist/main.js</code> - an <code>initial</code> chunk</li> <li><code>/dist/394.js</code> - <code>non-initial</code> chunk</li> </ul> <p>By default, there is no name for <code>non-initial</code> chunks so that a unique ID is used instead of a name. When using dynamic import we may specify a chunk name explicitly by using a <a href="/api/module-methods/#magic-comments">"magic" comment</a>:</p> <pre><code class="hljs language-js"><span class="token keyword">import</span><span class="token punctuation">(</span>
  <span class="token comment">/* webpackChunkName: "app" */</span>
  <span class="token string">'./app.jsx'</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">App</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&#x3C;</span>App <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>Output:</strong></p> <ul> <li><code>/dist/main.js</code> - an <code>initial</code> chunk</li> <li><code>/dist/app.js</code> - <code>non-initial</code> chunk</li> </ul> <h2 id="output-2">Output<a href="#output-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The names of the output files are affected by the two fields in the config:</p> <ul> <li><a href="/configuration/output/#outputfilename"><code>output.filename</code></a> - for <code>initial</code> chunk files</li> <li><a href="/configuration/output/#outputchunkfilename"><code>output.chunkFilename</code></a> - for <code>non-initial</code> chunk files</li> <li>In some cases chunks are used <code>initial</code> and <code>non-initial</code>. In those cases <code>output.filename</code> is used.</li> </ul> <p>A <a href="/configuration/output/#template-strings">few placeholders</a> are available in these fields. Most often:</p> <ul> <li><code>[id]</code> - chunk id (e.g. <code>[id].js</code> -> <code>485.js</code>)</li> <li><code>[name]</code> - chunk name (e.g. <code>[name].js</code> -> <code>app.js</code>). If a chunk has no name, then its id will be used</li> <li><code>[contenthash]</code> - md4-hash of the output file content (e.g. <code>[contenthash].js</code> -> <code>4ea6ff1de66c537eb9b2.js</code>)</li> </ul> </div><div class="contributors__section"><hr/><h3>Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="https://github.com/webpack"><img alt="webpack" src="/icon-square-small-slack.9281492bb267314634b4.png"/><span class="contributor__name"> <!-- -->webpack</span></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="/guides/getting-started/">Get Started</a><a class="footer__link" href="/comparison/">Comparison</a></section><section class="footer__middle"><a class="footer__icon" href="/"><img src="/icon-square-small.85ba630cf0c5f29ae3e3.svg" alt="webpack icon"/></a></section><section class="footer__right"><a href="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">Swag Store</a><a class="footer__link" href="/glossary/">Glossary</a><a class="footer__link" href="/branding/">Branding</a><a href="https://gitter.im/webpack/webpack" target="_blank" rel="noopener noreferrer" class="footer__link">Gitter</a><a href="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">Changelog</a><a class="footer__link footer__license" href="/license"><img alt="Creative Commons License" src="/cc.ab77d813bf219c6e34ff.svg"/><img alt="Creative Commons License" src="/by.1360bb2e6d1fc28cdd9e.svg"/></a></section></div></footer></div></div><script>
window.matchMedia('print').addListener(function(mql) {
  if (!mql.matches) {
      window.close();
  }
});
window.print();
</script></body>